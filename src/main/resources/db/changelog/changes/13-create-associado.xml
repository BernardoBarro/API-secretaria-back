<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<changeSet id="13_create_associado" author="joao">
		<sql>
			CREATE TABLE ASSOCIADO (
			IdAssociado INT NOT NULL AUTO_INCREMENT,
			IdReuniao INT,
			IdVotacao INT,
			IdAcesso INT,
			IdStatus INT,
			IdCargo INT,
			IdPessoa INT,
			DataAdmissao DATE,
			Padrinho VARCHAR(50),
    			Historico VARCHAR(2000),
			ConselhoDiretor BOOLEAN,	
			PRIMARY KEY (IdAssociado),
			FOREIGN KEY (IdStatus) REFERENCES Status(IdStatus) ON UPDATE CASCADE ON DELETE CASCADE,
			FOREIGN KEY (IdCargo) REFERENCES Cargo(IdCargo) ON UPDATE CASCADE ON DELETE CASCADE,
			FOREIGN KEY (IdAcesso) REFERENCES Acesso(IdAcesso) ON UPDATE CASCADE ON DELETE CASCADE,
			FOREIGN KEY (IdPessoa) REFERENCES Pessoa(IdPessoa) ON UPDATE CASCADE ON DELETE CASCADE,
			FOREIGN KEY (IdReuniao) REFERENCES Reuniao(IdReuniao) ON UPDATE CASCADE ON DELETE CASCADE,
			FOREIGN KEY (IdVotacao) references Votacao(IdVotacao) ON UPDATE CASCADE ON DELETE CASCADE
			);


		</sql>
		<rollback>
			<sql>
				DROP TABLE ASSOCIADO;
			</sql>
		</rollback>
	</changeSet>
</databaseChangeLog>